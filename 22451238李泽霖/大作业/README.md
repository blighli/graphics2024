# 射击小球游戏项目说明文档

## 1. 项目概述

本项目是为《三维动画与交互技术》课程设计的三维交互式动画程序，使用Vue.js结合WebGL技术开发了一款简单的射击小球游戏。玩家可以通过点击屏幕发射子弹来击中小球，并在限定时间内获得尽可能高的分数。游戏包括了开始、设置、重置按钮，支持调整小球大小和持续时间等个性化设置。

## 2. 安装指南

### 环境需求
- Node.js 和 npm（用于安装依赖）
- 支持ES6及以上版本JavaScript语法的现代浏览器

### 安装步骤
1. 克隆或下载项目代码。
2. 在项目根目录下打开命令行工具，执行以下命令以安装必要的依赖项：
   ```bash
   npm install
   ```
3. 安装完成后，启动本地服务器：
   ```bash
   npm run dev
   ```
4. 打开浏览器并访问 `http://localhost:5173` 或者由本地服务器提供的其他地址，即可开始游戏。

## 3. 功能描述

- **开始游戏**：点击“开始游戏”按钮初始化游戏环境，生成第一个小球并启动计时器。
- **设置面板**：通过“设置”按钮可以打开设置面板，允许用户修改小球的尺寸和存在时间。
- **重置游戏**：点击“重置”按钮会清除当前的游戏状态，包括得分、剩余时间和所有的小球及子弹。
- **倒计时显示**：顶部有倒计时显示，提醒玩家剩余的游戏时间。
- **得分板**：实时更新玩家的得分情况。
- **碰撞检测**：当子弹击中小球时，增加得分并且小球逐渐缩小直至消失，同时产生爆炸效果。
- **子弹发射**：每次点击鼠标左键会在点击位置发射一颗子弹，子弹沿垂直方向向上移动。

## 4. 技术实现细节

### 使用的技术栈
- **前端框架**：Vue.js 用于构建响应式的用户界面。
- **图形API**：WebGL 用于渲染三维图形和动画特效。
- **编程语言**：TypeScript 提供类型安全保证，增强代码可维护性。

### 关键模块解释
- **WebGL初始化 (`initWebGL`)**：负责创建WebGL上下文，编译着色器程序，并加载纹理资源。
- **小球生成 (`spawnBall`)**：随机位置生成一个小球，并将其顶点数据上传到GPU。
- **绘制循环 (`drawFrame`)**：利用`requestAnimationFrame`实现实时渲染，确保画面流畅。
- **事件监听 (`checkClick`)**：处理用户的点击事件，判断是否击中小球，并相应地添加子弹。
- **子弹更新 (`updateBullets`)**：管理子弹的位置更新，移除超出画布范围的子弹。
- **爆炸效果 (`createExplosion`)**：模拟小球被击中后的爆炸视觉效果。

## 5. 如何运行和使用

1. 启动游戏后，你可以点击“开始游戏”按钮进入游戏界面。
2. 游戏过程中，点击屏幕任意位置发射子弹尝试击中小球。
3. 使用右上角的“设置”按钮自定义游戏参数。
4. 当倒计时结束或者选择“重置”按钮时，游戏将回到初始状态。

## 6. 注意事项

- 确保浏览器支持WebGL，否则可能无法正确显示游戏内容。
- 图像资源路径需正确配置，以便顺利加载纹理。
